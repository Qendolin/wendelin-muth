@use "sass:color";
@use "./colors.scss";

$backdrop: 0.25rem 0.5rem 1rem 4px colors.$accent-backdrop;

$backdrop-focus: 0.25rem 0.5rem 1rem 4px
	color.adjust(
		$color: colors.$accent-backdrop,
		$saturation: 20%,
		$lightness: 20%,
	);

textarea {
	padding-block: 0.75rem;
	min-height: 3rem;
	resize: none;
	clip-path: rect(0, 0, 1, 1);
}

input {
	height: 3rem;
}

input,
textarea {
	padding-inline: 1rem;
	box-shadow: $backdrop;
	vertical-align: middle;
	width: 250px;
	margin: 0.5rem;
	max-width: 100%;
	transition: box-shadow 0.25s;

	&:focus {
		box-shadow: $backdrop-focus;
	}

	&[type='checkbox'] {
		width: 1rem;
		height: 1rem;
		padding: 0.5rem;
	}
	&[type='radio'] {
		padding: 0.5rem;
		width: 1rem;
		height: 1rem;
		border-radius: 100%;
		appearance: none;
		border: 1px solid gray;

		&:hover {
			border-color: colors.$primary;
		}

		&:disabled {
			border-color: rgba(118, 118, 118, 0.3);
		}

		&:checked:disabled {
			background-image: radial-gradient(circle at center, rgba(118, 118, 118, 0.3) 40%, transparent 45%);
		}

		&:checked:not(:disabled) {
			background-image: radial-gradient(circle at center, colors.$primary 40%, transparent 45%);
			border-color: colors.$primary;

			&:hover {
				border-color: color.adjust($color: colors.$primary, $lightness: -15%);
			}
		}
	}
	&[type='color'] {
		padding: 0;
	}
	&[type='range'] {
		padding: 0;
		border-radius: 100vmax;
		height: auto;
		box-shadow: $backdrop, inset 0 0 20px 0 colors.$accent-backdrop;
	}
	&[type='file'] {
		padding: 0.75rem;
	}
	&[type='search']::-webkit-search-cancel-button {
		-webkit-appearance: none;
		margin: 0;
		padding: 0;
		padding-inline-start: 4px;
		width: 1em;
		height: 1em;
		cursor: pointer;
		background-origin: content-box;
		background-repeat: no-repeat;
		background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path stroke="black" stroke-width="0.2" d="M1 1 9 9M9 1 1 9"/></svg>');
	}
}

label {
	display: flex;
	flex-direction: column;
	padding-bottom: 1rem;

	> * {
		width: auto;
	}
}
